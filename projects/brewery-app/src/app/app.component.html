<app-header></app-header>

<lib-city-input (citySelected)="onCitySelected($event)"></lib-city-input>

<div class="brewery-results">
  @if (loading) {
    <div class="loading">Loading breweries...</div>
  }
  @if (noResults) {
    <div class="no-results">No breweries found for this city.</div>
  }

  @if (breweries.length > 0) {
    <div class="brewery-list">
      @for (brewery of breweries; track brewery.id) {
        <div class="brewery-card">
          <h3>{{ brewery.name }}</h3>
          @if (brewery.brewery_type) {
            <p>Type: {{ brewery.brewery_type }}</p>
          }
          @if (brewery.street) {
            <p>{{ brewery.street }}</p>
          }
          <p>{{ brewery.city }}, {{ brewery.state }} {{ brewery.postal_code }}</p>
          @if (brewery.phone) {
            <p>Phone: {{ brewery.phone }}</p>
          }
          @if (brewery.website_url) {
            <a [href]="brewery.website_url" target="_blank">Visit Website</a>
          }
        </div>
      }
    </div>
  }
</div>
